<!--
  ~ /*******************************************************************************
  ~  jquery.mb.components
  ~  file: list.html
  ~
  ~  Copyright (c) 2001-2013. Matteo Bicocchi (Pupunzi);
  ~  Open lab srl, Firenze - Italy
  ~  email: matteo@open-lab.com
  ~  site: 	http://pupunzi.com
  ~  blog:	http://pupunzi.open-lab.com
  ~ 	http://open-lab.com
  ~
  ~  Licences: MIT, GPL
  ~  http://www.opensource.org/licenses/mit-license.php
  ~  http://www.gnu.org/licenses/gpl.html
  ~
  ~  last modified: 04/01/13 17.13
  ~  ******************************************************************************/
  -->

<div data-name="listPage"  data-role="page" data-sections="slide" data-persist="false">

  <div data-role="header" data-position="fixed"><h1>list example and features</h1></div>

  <div data-role="content">
    <h1 class="title">list of elements</h1>

    <p>Try to swipe left or right on each line...</p>

    <div class="list">
      <div data-role="section">section 1</div>
      <span class="line"><a rel="" href="#">line 1</a></span>
      <span class="line"><a rel="" href="#">line 2</a></span>
      <span class="line"><a rel="" href="#">line 3</a></span>
      <span class="line"><a rel="" href="#">line 4</a></span>
      <span class="line"><a rel="" href="#">line 5</a></span>
      <span class="line"><a rel="" href="#">line 6</a></span>

      <div data-role="section">section 2 (selectable rows)</div>
      <div data-role="selectable">
        <span id="sel_1" class="line"><a rel="" href="#">line 1</a></span>
        <span id="sel_2" class="line"><a rel="" href="#">line 2</a></span>
        <span id="sel_3" class="line"><a rel="" href="#">line 3</a></span>
        <span id="sel_4" class="line"><a rel="" href="#">line 4</a></span>
        <span id="sel_5" class="line"><a rel="" href="#">line 5</a></span>
        <span id="sel_6" class="line"><a rel="" href="#">line 6</a></span>
      </div>

      <div data-role="panel">
        <div data-role="section">section 3 (collapsable rows)</div>
        <!--<div class="line">open this panel</div>-->
        <div data-role="sortable">
          <span id="sort_11" class="line"><a rel="" href="#">line 1</a></span>
          <span id="sort_22" class="line"><a rel="" href="#">line 2</a></span>
          <span id="sort_33" class="line"><a rel="" href="#">line 3</a></span>
          <span id="sort_44" class="line"><a rel="" href="#">line 4</a></span>
          <span id="sort_55" class="line"><a rel="" href="#">line 5</a></span>
          <span id="sort_66" class="line"><a rel="" href="#">line 6</a></span>
        </div>
      </div>

      <div data-role="section">section 4 (deletable rows)</div>
      <div data-role="deletable">
        <span id="del_1" class="line"><a rel="" href="#">line 1</a></span>
        <span id="del_2" class="line"><a rel="" href="#">line 2</a></span>
        <span id="del_3" class="line"><a rel="" href="#">line 3</a></span>
        <span id="del_4" class="line"><a rel="" href="#">line 4</a></span>
        <span id="del_5" class="line"><a rel="" href="#">line 5</a></span>
        <span id="del_6" class="line"><a rel="" href="#">line 6</a></span>
      </div>

      <div data-role="section">section 5 (sortable rows)</div>
      <div data-role="sortable">
        <span id="sort_1" class="line"><a rel="" href="#">line 1</a></span>
        <span id="sort_2" class="line"><a rel="" href="#">line 2</a></span>
        <span id="sort_3" class="line"><a rel="" href="#">line 3</a></span>
        <span id="sort_4" class="line"><a rel="" href="#">line 4</a></span>
        <span id="sort_5" class="line"><a rel="" href="#">line 5</a></span>
        <span id="sort_6" class="line"><a rel="" href="#">line 6</a></span>
      </div>

    </div>
  </div>

  <div data-role="footer" data-type="default" data-position="fixed"></div>

  <script type="text/javascript">

    //callbak invoked on "pagebeforehide" that returns 
    // wich line has been deleted
    // and the new order of sortable lines.

    $("[data-name=listPage]").bind("pagebeforehide",function(e){

      var sorted= [];
      $(this).find("[data-role=sortable]").each(function(){
        if($(this).data("sortOrder"))
          sorted.push($(this).data("sortOrder"));
      });

      var deleted= $(this).find("[data-role=deletable]").data("deleted");

      var selected= $(this).find("[data-role=selectable]").data("selected");

      var debug= sorted!=""?"sortable order: "+sorted+"\n":"";
      debug+=deleted!=""?"you deleted: "+deleted+"\n":"";
      debug+=selected!=""? "you selected: "+selected+"\n":"";

      if (debug!="")
        alert(debug);
    });

  </script>

</div>